<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ãƒ­ãƒ“ãƒ¼</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
.feature-box {
  margin-top: 10px;
}
.room {
  border: 1px solid #ccc;
  padding: 10px;
  margin-bottom: 12px;
}

#roomContainer {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

.feature-title {
  margin-top: 14px;
  margin-bottom: 6px;
  font-weight: bold;
  font-size: 15px;
  border-left: 4px solid #888;
  padding-left: 8px;
}

.feature-list {
  list-style: none;
  padding-left: 0;
  margin: 0 0 8px 0;
}

.feature-list li {
  padding: 2px 0;
}
.room-title-row {
  display: flex;
  gap: 8px;
  align-items: baseline;
}

.room-desc {
  font-weight: normal;
  font-size: 13px;
  color: #555;
}

/* ===== ãƒ«ãƒ¼ãƒ åˆ¥ã‚«ãƒ©ãƒ¼ ===== */
.room.room1 {
  background: #ffdddd;
}
.room.room2 {
  background: #ffdddd;}
.room.room3 { background:#dde8ff; }

.room.room4 { background:#dde8ff;}

.room.room5 {
  background: #ffb3d9;
}
.room.room6 {
  background: #222;
  color: #fff;
}
.room.room6,
.room.room6 span,
.room.room6 label {
  color: #fff;
}

.room.denki {
  background: #fff4cc;
}

.room.jinmon {
  background: #ccc;
}

.room.special {
  background: #ffddee;
}

.room.sugoroku {
  background: #e6f7ff;
}

.room-title {
  font-weight: bold;
  margin-bottom: 4px;
}
.room-info {
  font-size: 14px;
  margin-bottom: 6px;
}
button {
  padding: 6px 12px;
  margin-right: 5px;
}
input[type="password"] {
  padding: 5px;
  width: 120px;
}
</style>
</head>
<body>

<h2>ãƒ­ãƒ“ãƒ¼</h2>

<div id="features" style="
  border:1px solid #ccc;
  padding:12px;
  margin-bottom:20px;
  background:#f9f9f9;
">

<div class="feature-box">
  <div class="feature-title">ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ</div>
  <ul class="feature-list">
  <li>ç½°ãƒœã‚¿ãƒ³è¿½åŠ </li>
  <li>å¥³æ€§é™å®šéƒ¨å±‹è¿½åŠ </li>
   <li>ãƒŸãƒ¥ãƒ¼ãƒˆãƒœã‚¿ãƒ³è¿½åŠ </li>
    <li>ã€Œæ¶ˆã€ãŠã—ãŸã‚‰ãƒŸãƒ¥ãƒ¼ãƒˆã€Œæ¸ˆã€ã‚’æŠ¼ã—ãŸã‚‰è§£é™¤</li>
    </ul>

 <details>

  <summary class="feature-title">
    éƒ¨å±‹ç´¹ä»‹
  </summary>

  <ul class="feature-list">

    <li>ãƒ«ãƒ¼ãƒ 1.2 ã‚µã‚¤ã‚³ãƒ­å¯¾æˆ¦éƒ¨å±‹</li>
    <li>
      <a href="https://chat.luvul.net/ChatRoom?room_id=426738" target="_blank">
        â–¶ ã‚µã‚¤ã‚³ãƒ­å¯¾æˆ¦å…ƒéƒ¨å±‹
      </a>
    </li>

    <li>ãƒ«ãƒ¼ãƒ 3.4 ã‚ªãƒŠãƒ‹ãƒ¼éƒ¨å±‹</li>
    <li>
      <a href="https://chat.luvul.net/ChatRoom?room_id=427627" target="_blank">
        â–¶ ã‚ªãƒŠãƒ‹ãƒ¼éƒ¨å±‹å…ƒéƒ¨å±‹
      </a>
    </li>

    <li>å¥³å­é™å®šéƒ¨å±‹</li>
    <li>
      <a href="https://chat.luvul.net/ChatRoom?room_id=426332" target="_blank">
        â–¶ å¥³å­VSå¥³å­ã‚µã‚¤ã‚³ãƒ­å¯¾æˆ¦å…ƒéƒ¨å±‹
      </a>
    </li>

    <li>é›»æ°—æ¤…å­éƒ¨å±‹1.2.3ï¼ˆ2äººå¯¾æˆ¦ãƒ»è¦³æˆ¦å¯ï¼‰</li>
    <li>
      <a href="https://chat.luvul.net/ChatRoom?room_id=427364" target="_blank">
        â–¶ é›»æ°—æ¤…å­å…ƒéƒ¨å±‹
      </a>
    </li>

    <li>ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒ«ãƒ¼ãƒ ï¼ˆèº«å†…ç”¨ï¼‰</li>
    <li>
      <a href="https://chat.luvul.net/ChatRoom?room_id=424208" target="_blank">
        â–¶ é›‘è«‡éƒ¨å±‹ãƒ»ã”æ„è¦‹ã€ã”æ„Ÿæƒ³ã¯ã“ã¡ã‚‰
      </a>
    </li>

  </ul>

</details>

<div class="feature-title">æ©Ÿèƒ½èª¬æ˜</div>
<ul class="feature-list">
  <li>â€»ç”»é¢ãŒè‡ªå‹•æ›´æ–°ã—ãªããªã£ãŸå ´åˆã¯æ›´æ–°ã—ã¦ãã ã•ã„</li>
  <li>å¥³å­ç½° / ç”·å­ç½° / å¥³ã‚ªãƒŠ / ç”·ã‚ªãƒŠ / å¥³ç—›ç½°</li>
  <li>ãƒ€ã‚¤ã‚¹æ©Ÿèƒ½ï¼ˆä¾‹ï¼š1d6+1ï¼‰</li>
  <li>å†…ç·’æ©Ÿèƒ½</li>
</ul>




</li>
</ul>
</div>
</div>

<div id="error" style="color:red; margin-bottom:10px;"></div>

<div id="roomContainer">
<!-- ===== room1 ===== -->
<div class="room room1">
  <div class="room-title-row">

  <span class="room-title">
    ãƒ«ãƒ¼ãƒ 1
  </span>

  <span class="room-desc">
    ã‚µã‚¤ã‚³ãƒ­å¯¾æ±º
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-room1">0</span>äººï¼‰
    <span id="names-room1">ãªã—</span>
  </div>
  

  <button onclick="enterRoom('room1')">å…¥å®¤</button>
</div>

<!-- ===== room2 ===== -->
<div class="room room2">
 <div class="room-title-row">

  <span class="room-title">
    ãƒ«ãƒ¼ãƒ 2
  </span>

  <span class="room-desc">
    ã‚µã‚¤ã‚³ãƒ­å¯¾æ±º
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-room2">0</span>äººï¼‰
    <span id="names-room2">ãªã—</span>
  </div>
  

  <button onclick="enterRoom('room2')">å…¥å®¤</button>
</div>
<div class="room room3">
  <div class="room-title-row">

  <span class="room-title">
    ãƒ«ãƒ¼ãƒ 3
  </span>

  <span class="room-desc">
    ã‚ªãƒŠãƒ‹ãƒ¼éƒ¨å±‹
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-room3">0</span>äººï¼‰
    <span id="names-room3">ãªã—</span>
  </div>

  <button onclick="enterRoom('room3')">å…¥å®¤</button>
</div>

<div class="room room4">
  <div class="room-title-row">

  <span class="room-title">
    ãƒ«ãƒ¼ãƒ 4
  </span>

  <span class="room-desc">
    ã‚ªãƒŠãƒ‹ãƒ¼éƒ¨å±‹
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-room4">0</span>äººï¼‰
    <span id="names-room4">ãªã—</span>
  </div>
 
  <button onclick="enterRoom('room4')">å…¥å®¤</button>
</div>

<!-- ===== room5 ===== -->
<div class="room room5">
  <div class="room-title-row">

  <span class="room-title">
    å¥³å­é™å®šéƒ¨å±‹
  </span>

  <span class="room-desc">
    å¥³å­ã®ã¿å…¥å®¤å¯
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-room5">0</span>äººï¼‰
    <span id="names-room5">ãªã—</span>
  </div>


<label>
  <input type="checkbox" id="girl-room5">
  å¥³å­
</label>
<button onclick="enterRoom('room5')">å…¥å®¤</button>
</div>

<!-- ===== room6 ===== -->
<div class="room room6">
  <div class="room-title-row">

  <span class="room-title">
    å·»ãè¾¼ã¾ã‚Œéƒ¨å±‹
  </span>

  <span class="room-desc">
    æœªå®Ÿè£… è¦‹å­¦ã§ã®å‚åŠ ä¸å¯ã€å¿…ãšåå‰ã§å…¥å®¤ã™ã‚‹ã“ã¨ã€‚
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-room6">0</span>äººï¼‰
    <span id="names-room6">ãªã—</span>
  </div>


  <button onclick="enterRoom('room6')">å…¥å®¤</button>
</div>


<!-- ===== denkiï¼ˆæ—¢å­˜ï¼‰ ===== -->
<div class="room denki">
  <div class="room-title-row">

  <span class="room-title">
    é›»æ°—æ¤…å­1
  </span>

  <span class="room-desc">
    2äººå¯¾æˆ¦ãƒ»è¦³æˆ¦å¯
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-denki">0</span>äººï¼‰
    <span id="names-denki">ãªã—</span>
  </div>
 

  <button onclick="enterRoom('denki')">å…¥å®¤</button>
</div>

<!-- ===== denki1ï¼ˆè¿½åŠ ï¼‰ ===== -->
<div class="room denki">
  <div class="room-title-row">

  <span class="room-title">
    é›»æ°—æ¤…å­2
  </span>

  <span class="room-desc">
    2äººå¯¾æˆ¦ãƒ»è¦³æˆ¦å¯
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-denki1">0</span>äººï¼‰
    <span id="names-denki1">ãªã—</span>
  </div>
 
  <button onclick="enterRoom('denki1')">å…¥å®¤</button>
</div>

<!-- ===== denki2ï¼ˆè¿½åŠ ï¼‰ ===== -->
<div class="room denki">
  <div class="room-title-row">

  <span class="room-title">
    é›»æ°—æ¤…å­3
  </span>

  <span class="room-desc">
    2äººå¯¾æˆ¦ãƒ»è¦³æˆ¦å¯
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-denki2">0</span>äººï¼‰
    <span id="names-denki2">ãªã—</span>
  </div>

  <button onclick="enterRoom('denki2')">å…¥å®¤</button>
</div>

<!-- ===== sugoroku1 ===== -->
<div class="room sugoroku">
  <div class="room-title-row">
    <span class="room-title">ğŸ² ã™ã”ã‚ã1</span>
    <span class="room-desc">ã™ã”ã‚ãéƒ¨å±‹</span>
  </div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-sugoroku1">0</span>äººï¼‰
    <span id="names-sugoroku1">ãªã—</span>
  </div>
  <button onclick="enterRoom('sugoroku1')">å…¥å®¤</button>
</div>

<!-- ===== sugoroku2 ===== -->
<div class="room sugoroku">
  <div class="room-title-row">
    <span class="room-title">ğŸ² ã™ã”ã‚ã2</span>
    <span class="room-desc">ã™ã”ã‚ãéƒ¨å±‹</span>
  </div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-sugoroku2">0</span>äººï¼‰
    <span id="names-sugoroku2">ãªã—</span>
  </div>
  <button onclick="enterRoom('sugoroku2')">å…¥å®¤</button>
</div>

<!-- ===== sugoroku3 ===== -->
<div class="room sugoroku">
  <div class="room-title-row">
    <span class="room-title">ğŸ² ã™ã”ã‚ã3</span>
    <span class="room-desc">ã™ã”ã‚ãéƒ¨å±‹</span>
  </div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-sugoroku3">0</span>äººï¼‰
    <span id="names-sugoroku3">ãªã—</span>
  </div>
  <button onclick="enterRoom('sugoroku3')">å…¥å®¤</button>
</div>

<!-- ===== å°‹å•éƒ¨å±‹ ===== -->
<div class="room jinmon">
  <div class="room-title-row">

  <span class="room-title">
    å°‹å•éƒ¨å±‹
  </span>

  <span class="room-desc">
    Mã®æ–¹é™å®š
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-jinmon">0</span>äººï¼‰
    <span id="names-jinmon">ãªã—</span>
  </div>

  <button onclick="enterRoom('jinmon')">å…¥å®¤</button>
</div>

<!-- ===== special ===== -->
<div class="room special">
  <div class="room-title-row">

  <span class="room-title">
    ã‚¹ãƒšã‚·ãƒ£ãƒ«
  </span>

  <span class="room-desc">
    èº«å†…ç”¨ãƒ«ãƒ¼ãƒ 
  </span>

</div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-special">0</span>äººï¼‰
    <span id="names-special">ãªã—</span>
  </div>
  <input type="password" id="key-special" placeholder="éµ">
  <button onclick="enterRoom('special')">å…¥å®¤</button>
</div>

<!-- ===== specia2 ===== -->

<div class="room special">
  <div class="room-title-row">

  <span class="room-title">
    ã‚¹ãƒšã‚·ãƒ£ãƒ«éµç„¡ã—
  </span>

  <span class="room-desc">
    èº«å†…ç”¨ãƒ«ãƒ¼ãƒ 
  </span>

</div>

  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-specialFree">0</span>äººï¼‰
    <span id="names-specialFree">ãªã—</span>
  </div>

  <button onclick="enterRoom('specialFree')">å…¥å®¤</button>
</div>

<!-- ===== private ===== -->
<div class="room">
  <div class="room-title">å€‹å®¤A</div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-privateA">0</span>äººï¼‰
    <span id="names-privateA">ãªã—</span>
  </div>
  <input type="password" id="key-privateA" placeholder="éµ">
  <button onclick="enterRoom('privateA')">å…¥å®¤</button>
</div>

<div class="room">
  <div class="room-title">å€‹å®¤B</div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-privateB">0</span>äººï¼‰
    <span id="names-privateB">ãªã—</span>
  </div>
  <input type="password" id="key-privateB" placeholder="éµ">
  <button onclick="enterRoom('privateB')">å…¥å®¤</button>
</div>

<div class="room">
  <div class="room-title">å€‹å®¤C</div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-privateC">0</span>äººï¼‰
    <span id="names-privateC">ãªã—</span>
  </div>
  <input type="password" id="key-privateC" placeholder="éµ">
  <button onclick="enterRoom('privateC')">å…¥å®¤</button>
</div>

<div class="room">
  <div class="room-title">å€‹å®¤D</div>
  <div class="room-info">
    äººæ•°ï¼ˆ<span id="count-privateD">0</span>äººï¼‰
    <span id="names-privateD">ãªã—</span>
  </div>
  <input type="password" id="key-privateD" placeholder="éµ">
  <button onclick="enterRoom('privateD')">å…¥å®¤</button>
</div>
</div>

<script src="/socket.io/socket.io.js"></script>


<script>
  
const socket = io();



socket.on("lobbyUpdate", rooms => {

const allRooms = [
  "room1",
  "room2",
  "room3",
  "room4",
  "room5",
  "room6",  
  "denki",
  "denki1",
  "denki2",
  "sugoroku1",
  "sugoroku2",
  "sugoroku3",
  "jinmon",
  "special",
  "specialFree",
  "privateA",
  "privateB",
  "privateC",
  "privateD"
];


  allRooms.forEach(room => {
    const countEl = document.getElementById(`count-${room}`);
    const namesEl = document.getElementById(`names-${room}`);
    const btn = document.querySelector(`button[onclick="enterRoom('${room}')"]`);
    if (!countEl || !namesEl || !btn) return;

    const info = rooms[room];
    if (info) {
      countEl.textContent = info.count;
      namesEl.textContent = info.names.join(", ");
    } else {
      countEl.textContent = 0;
      namesEl.textContent = "ãªã—";
    }
  });
});

function enterRoom(room) {


if (room === "room5") {

  const girlCheck =
    document.getElementById("girl-room5");

  if (!girlCheck || !girlCheck.checked) {
    document.getElementById("error").textContent =
      "å¥³å­ã®ã¿å…¥å®¤ã§ãã¾ã™";
    return;
  }

}


  // ===== æ—¢å­˜å‡¦ç† =====
  const errorEl = document.getElementById("error");
  errorEl.textContent = "";

  let key = "";
  if (room.startsWith("private") || room === "special") {
    key = document.getElementById(`key-${room}`)?.value || "";
  }

  socket.emit("checkRoomKey", { room, key });

  socket.off("checkResult");
  socket.on("checkResult", res => {
    if (!res.ok) {
      errorEl.textContent = res.message || "å…¥å®¤ã§ãã¾ã›ã‚“";
      return;
    }
    localStorage.setItem("chatRoom", room);
    localStorage.setItem("chatKey", key);
   if (
  room === "denki" ||
  room === "denki1" ||
  room === "denki2"
){
  location.href = "/denki.html";

} else if (
  room === "sugoroku1" ||
  room === "sugoroku2" ||
  room === "sugoroku3"
){
  location.href = "/sugoroku.html";

} else if (room === "jinmon") {
  location.href = "/jinmon.html";
} else {
  location.href = "/";
}
  });
}


</script>
</div>
</body>
</html>
